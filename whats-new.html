<!DOCTYPE html>
<meta charset=utf-8>
<title>O que existe de novo no Dive Into Python 3</title>
<!--[if IE]><script src=j/html5.js></script><![endif]-->
<link rel=stylesheet href=dip3.css>
<style>
body{counter-reset:h1 -1}
h3:before{content:''}
</style>
<link rel=stylesheet media='only screen and (max-device-width: 480px)' href=mobile.css>
<link rel=stylesheet media=print href=print.css>
<meta name=viewport content='initial-scale=1.0'>
<form action=http://www.google.com/cse><div><input type=hidden name=cx value=014021643941856155761:l5eihuescdw><input type=hidden name=ie value=UTF-8>&nbsp;<input type=search name=q size=25 placeholder="powered by Google&trade;">&nbsp;<input type=submit name=sa value=Search></div></form>
<p>Voçê está aqui: <a href=index.html>Home</a> <span class=u>&#8227;</span> <a href=table-of-contents.html#whats-new>Dive Into Python 3</a> <span class=u>&#8227;</span>
<h1>O que existe de novo no Dive Into Python 3&#8221;</h1>
<blockquote class=q>
<p><span class=u>&#x275D;</span> Isn&#8217;t this where we came in? <span class=u>&#x275E;</span><br>&mdash; Pink Floyd, The Wall
</blockquote>
<p id=toc>&nbsp;
<h2 id=divingin><i>a.k.a.</i> &#8220;the minus level&#8221;</h2>

<p class=f>Já é programador de Python? Leu o original &#8220;<a href=http://diveintopython.org/>Dive Into Python</a>&#8221;? Comprou a versão impressa? (Se sim, Obrigado!) Está pronto para mergulhar no Python 3? &hellip; Se assim for, continue a ler. (Se nada disso é verdade, será melhor <a href=installing-python.html>começar do inicio.</a>.)

<p>O Python 3 vem com um script chamado <code>2to3</code>. Aprenda-o. Ame-o. Use-o. <a href=porting-code-to-python-3-with-2to3.html>Portar código para Python 3 com <code>2to3</code></a> é uma referencia de todas as coisas que a ferramenta <code>2to3</code> corrige automaticamente. Uma vez que muitas dessas correcções são mudanças da sintaxe é um bom ponto de partida para aprender sobre muitas das mudanças sintaxe do Python 3. (<code>print</code> é agora uma função, <code>`x`</code> não funciona, <i class=baa>&amp;</i>c.)

<p><a href=case-study-porting-chardet-to-python-3.html>Caso de Estudo: Portar <code>chardet</code> para documentos Python 3</a>, o meu esforço (finalmente bem sucedido) para portar uma biblioteca não trivial de Python 2 para Python 3. Pode ajudá-lo, ou não. Existe uma curva de aprendizagem bastante ingreme, primeiro é preciso entender o tipo de biblioteca, então é possível entender porque falhou e como reparar o erro. Grande parte dos erros gira em torno das strings. Falando nisso&hellip;

<p>Strings. Ufa. Por onde começar. Python 2 tinha &#8220;strings&#8221; e &#8220;Unicode strings&#8221;. Python 3 tem &#8220;bytes&#8221; e &#8220;strings&#8221;. Ou seja, todas as strings são agora Unicode strings, e se quisermos lidar com um conjunto de bytes, usamos o novo tipo de <code>bytes</code>. O Python 3 <em>nunca</em> vai converter implicitamente entre strings e bytes, por isso se não tivermos a certeza do tipo que estamos a usar em cada momento o código vai falhar, quase de certeza. Leia o <a href=strings.html>capítulo das Strings</a> para mais detalhes. 

<p>Bytes vs. strings aparece várias vezes ao longo do livro.

<ul>
<li>Em <a href=files.html>Ficheiros</a>, vamos aprender as diferenças entre ler ficheiros em &#8220;binário&#8221; e modo &#8220;texto&#8221;. Ler (e escrever!) ficheiros em modo de texto requer um parametro de <code>codificação</code>. Alguns métodos para ficheiros de texto contam caracteres, mas outros contam bytes. Se assumirmos que um caracter == um byte, o código vai falhar com caracteres multi-byte.
<li>Em <a href=http-web-services.html>Serviços Web <abbr>HTTP</abbr></a>, o módulo <code>httplib2</code> procura cabeçalhos e dados através do <abbr>HTTP</abbr>. Os cabeçalhos do <abbr>HTTP</abbr> são devolvidos como strings, mas o corpo do <abbr>HTTP</abbr> é devolvido como bytes.
<li>Em <a href=serializing.html>Serialização de objectos em Python</a>, vamos aprender porque é que o módulo <code>pickle</code> em Python 3 define um novo formato de dados que é incompatível com Python 2. (Dica: é por causa dos bytes e das strings.) Além disso, Python 3 suporta serialização de e para <abbr>JSON</abbr>, que nem sequer tem um tipo <code>bytes</code>. Vamos mostrar como dar a volta a isso.
<li>In <a href=case-study-porting-chardet-to-python-3.html>Case study: porting <code>chardet</code> to Python 3</a>, it&#8217;s just a bloody mess of bytes and strings everywhere.
</ul>

<p>Even if you don&#8217;t care about Unicode (oh but you will), you&#8217;ll want to read about <a href=strings.html#formatting-strings>string formatting in Python 3</a>, which is completely different from Python 2.

<p>Iterators are everywhere in Python 3, and I understand them a lot better than I did five years ago when I wrote &#8220;Dive Into Python&#8221;. You need to understand them too, because lots of functions that used to return lists in Python 2 will now return iterators in Python 3. At a minimum, you should read <a href=iterators.html#a-fibonacci-iterator>the second half of the Iterators chapter</a> and <a href=advanced-iterators.html#generator-expressions>the second half of the Advanced Iterators chapter</a>.

<p>By popular request, I&#8217;ve added an appendix on <a href=special-method-names.html>Special Method Names</a>, which is kind of like <a href=http://www.python.org/doc/3.1/reference/datamodel.html#special-method-names>the Python docs &#8220;Data Model&#8221; chapter</a> but with more snark.

<p>When I was writing &#8220;Dive Into Python&#8221;, all of the available XML libraries sucked. Then Fredrik Lundh wrote <a href=http://effbot.org/zone/element-index.htm>ElementTree</a>, which doesn&#8217;t suck at all. The Python gods wisely <a href=http://docs.python.org/3.1/library/xml.etree.elementtree.html>incorporated ElementTree into the standard library</a>, and now it forms the basis for <a href=xml.html>my new XML chapter</a>. The old ways of parsing XML are still around, but you should avoid them, because they suck!

<p>Also new in Python&nbsp;&mdash;&nbsp;not in the language but in the community&nbsp;&mdash;&nbsp;is the emergence of code repositories like <a href=http://pypi.python.org/>The Python Package Index</a> (PyPI). Python comes with utilities to package your code in standard formats and distribute those packages on PyPI. Read <a href=packaging.html>Packaging Python Libraries</a> for details.

<p class=c>&copy; 2001&ndash;11 <a href=about.html>Mark Pilgrim</a>
